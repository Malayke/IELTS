<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bootstrap demo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <style>
      #userInput {
        font-size: 2em;
        font-family: "Source Code Pro";
        width: 100%;
        height: 800px;
      }
      #results {
        color: #ff0000;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="mt-6 pt-6">
        <!-- <h1>雅思王听力语料库听写测试 Capter 3 横向测试</h1> -->
        <hr />
      </div>
      <div class="row">
        <div class="col-8">
          <textarea
            id="userInput"
            spellcheck="false"
            placeholder="每行一个单词"
          ></textarea>
        </div>
        <div id="results" class="col"></div>
      </div>
      <div>
        <button id="startButton" type="button" class="btn btn-primary">
          Start Test
        </button>
      </div>
    </div>

    <script>
      // prettier-ignore
      const CAPTER_3_TEST_1_HORIZON_PAGE_1_FRONT_SIDE = [
        "ability", "abstract", "accountant", "accuracy",
        "acid", "action", "activity", "actor",
        "adult", "adventure", "advertisements", "advertising",
        "advice", "age", "agency", "agreement",
        "agriculture", "aid", "aim", "air",
        "allergy", "alley", "allowance", "alteration",
        "altitude", "ambition", "ambulance", "amount",
        "analysis", "analyst", "anger", "animal",
        "ankle", "answer", "Antarctica", "ape"
      ];
      // prettier-ignore
      const CAPTER_3_TEST_1_HORIZON_PAGE_1_BACK_SIDE = [
        "appearance", "architect", "architectures", "area",
        "argument", "aristocrat", "army", "art",
        "article", "aspirin", "assignment", "atlas",
        "audience", "auditorium", "author", "authority",
        "average", "award", "bachelor", "background",
        "bacteria", "badge", "badminton", "backpack",
        "baldness", "band", "bandage", "bands",
        "bank", "banquet", "base", "basement",
        "bases", "basis", "bath", "batteries",
        "battery", "beach", "beard", "beats"
      ];
      // prettier-ignore
      const CAPTER_3_TEST_1_HORIZON_PAGE_2_FRONT_SIDE = [
        "beauty", "bed", "bedroom", "bed sheet",
        "bedsit", "behaviors", "belt", "benefit",
        "beverage", "bibliography", "bicycle", "bill",
        "biologist", "bird", "birth", "blanket",
        "blast", "block", "blouse", "board",
        "boarder", "boat", "bone", "bowl",
        "bowling", "branch", "breakfast", "brick",
        "bridge", "brochures", "building", "bungalow",
        "burger", "burglar", "bus", "cab"
      ];

      const CAPTER_3_TEST_1_HORIZON =
        CAPTER_3_TEST_1_HORIZON_PAGE_1_FRONT_SIDE.concat(
          CAPTER_3_TEST_1_HORIZON_PAGE_1_BACK_SIDE
        ).concat(CAPTER_3_TEST_1_HORIZON_PAGE_2_FRONT_SIDE);

      const startButton = document.getElementById("startButton");
      const userInput = document.getElementById("userInput");
      const results = document.getElementById("results");

      startButton.addEventListener("click", () => {
        const user_input = userInput.value.split("\n");
        let right = 0;
        let wrong = [];
        for (let index = 0; index < user_input.length; index++) {
          const word = user_input[index].trim();
          if (word === CAPTER_3_TEST_1_HORIZON[index]) {
            right += 1;
          } else {
            wrong.push([word, CAPTER_3_TEST_1_HORIZON[index]]);
          }
        }
        let percentage = (right / CAPTER_3_TEST_1_HORIZON.length) * 100;
        results.innerHTML = `Score: ${right}/${
          CAPTER_3_TEST_1_HORIZON.length
        } ${percentage.toFixed(2)}%`;

        wrong.forEach((w) => {
          results.innerHTML += `<br>wrong: ${w[0]} => ${w[1]}`;
        });
      });
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
